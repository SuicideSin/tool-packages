pkgname=devkitA64
pkgver=r11
pkgrel=2
pkgdesc='Toolchain for Nintendo Switch homebrew development'
arch=('any')
url='https://devkitpro.org'
license=('GPL')
options=(!strip libtool staticlibs)

if [ "$CHOST" = "x86_64-apple-darwin15" ]; then
  source=("https://github.com/devkitPro/buildscripts/releases/download/devkitA64_${pkgver}/devkitA64_${pkgver}-2-osx.tar.xz")
  sha256sums=('f726b7ec903e5de68de42b936e5c8b32da9faaf2fd5c9078aa654752fa232e66')
fi

if [ "$CHOST" = "x86_64-pc-linux-gnu" ]; then
  source=("https://github.com/devkitPro/buildscripts/releases/download/devkitA64_${pkgver}/devkitA64_${pkgver}-2-linux.tar.xz")
  sha256sums=('ddf885fd303384d7e149e4948601c641bfcc90f2c1ee84517d121186b3e4b495')
fi

if [ "$CHOST" = "x86_64-w64-mingw32" ]; then
  source=("https://github.com/devkitPro/buildscripts/releases/download/devkitA64_${pkgver}/devkitA64_${pkgver}-2-win64.tar.xz")
  sha256sums=('cd9129aaa11b070871f4feec2b8d38e9ada78506deec4711f8c3cb9f626795b3')
fi

groups=('switch-dev')

package() {

  mkdir -p "$pkgdir"/opt/devkitpro
  cp -R devkitA64 "$pkgdir"/opt/devkitpro  
  
}
