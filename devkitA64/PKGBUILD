pkgname=devkitA64
pkgver=r10
pkgrel=1
pkgdesc='Toolchain for Nintendo Switch homebrew development'
arch=('any')
url='https://devkitpro.org'
license=('GPL')
options=(!strip libtool staticlibs)

if [ "$CHOST" = "x86_64-w64-mingw32" ]; then
  source=("https://github.com/devkitPro/buildscripts/releases/download/devkitA64_${pkgver}/devkitA64_${pkgver}-win64.tar.xz")
  sha256sums=('2f2ea34eaa17e20ccb76018608f9a534763e8bc00f5beb75e75779840eb8d4e5')
fi

if [ "$CHOST" = "x86_64-apple-darwin15" ]; then
  source=("https://github.com/devkitPro/buildscripts/releases/download/devkitA64_${pkgver}/devkitA64_${pkgver}-osx.tar.xz")
  sha256sums=('9cccecf4d098900a7a673a8d00fe4a91f10be22e4b7ecf938d8682f5cdb4cecf')
fi

if [ "$CHOST" = "x86_64-pc-linux-gnu" ]; then
  source=("https://github.com/devkitPro/buildscripts/releases/download/devkitA64_${pkgver}/devkitA64_${pkgver}-linux.tar.xz")
  sha256sums=('78219fcec02dc716ff9f732fabf8c2807ecc4976f51039193f17c28facb51f28')
fi

groups=('switch-dev')

package() {

  mkdir -p "$pkgdir"/opt/devkitpro
  cp -R devkitA64 "$pkgdir"/opt/devkitpro  
  
}
