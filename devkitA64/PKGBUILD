pkgname=devkitA64
pkgver=r10
pkgrel=2
pkgdesc='Toolchain for Nintendo Switch homebrew development'
arch=('any')
url='https://devkitpro.org'
license=('GPL')
options=(!strip libtool staticlibs)

if [ "$CHOST" = "x86_64-w64-mingw32" ]; then
  source=("https://github.com/devkitPro/buildscripts/releases/download/devkitA64_${pkgver}/devkitA64_${pkgver}-win64.tar.xz")
  sha256sums=('9bbfa1eaf726061ce23698abe832f76d8ab46523f2c22db7c91adcc8eabead5a')
fi

if [ "$CHOST" = "x86_64-apple-darwin15" ]; then
  source=("https://github.com/devkitPro/buildscripts/releases/download/devkitA64_${pkgver}/devkitA64_${pkgver}-osx.tar.xz")
  sha256sums=('a8e22b4a4726cd8943c421057ebd0d8f6aa5bab3ade152adf6f3fe902082f2e5')
fi

if [ "$CHOST" = "x86_64-pc-linux-gnu" ]; then
  source=("https://github.com/devkitPro/buildscripts/releases/download/devkitA64_${pkgver}/devkitA64_${pkgver}-linux.tar.xz")
  sha256sums=('8610856c28698db5ccb63f6b6885be1dccc6a055e16d441e966867837d7aaa44')
fi

groups=('switch-dev')

package() {

  mkdir -p "$pkgdir"/opt/devkitpro
  cp -R devkitA64 "$pkgdir"/opt/devkitpro  
  
}
