pkgname=devkitA64
pkgver=r9
pkgrel=1
pkgdesc='Toolchain for Nintendo Switch homebrew development'
arch=('any')
url='https://devkitpro.org'
license=('GPL')
options=(!strip libtool staticlibs)

if [ "$CHOST" = "x86_64-w64-mingw32" ]; then
  source=("https://github.com/devkitPro/buildscripts/releases/download/devkitA64_${pkgver}/devkitA64_${pkgver}-win64.tar.xz")
  sha256sums=('e3046ab52d9a4d1ea4b438a3d76bd38d99460278c66e384ff44a05ed18b3f247')
fi

if [ "$CHOST" = "x86_64-apple-darwin15" ]; then
  source=("https://github.com/devkitPro/buildscripts/releases/download/devkitA64_${pkgver}/devkitA64_${pkgver}-osx.tar.xz")
  sha256sums=('688d9da970c4dcf9601600085b10df162e1450ed39142bfc28b9d32a3e893cc1')
fi

if [ "$CHOST" = "x86_64-pc-linux-gnu" ]; then
  source=("https://github.com/devkitPro/buildscripts/releases/download/devkitA64_${pkgver}/devkitA64_${pkgver}-linux.tar.xz")
  sha256sums=('207d445626dfdd4f0f789080e66eb6fea3c615b8eddf2c1b2068b4476ff747a4')
fi

groups=('switch-dev')

package() {

  mkdir -p "$pkgdir"/opt/devkitpro
  cp -R devkitA64 "$pkgdir"/opt/devkitpro  
  
}
